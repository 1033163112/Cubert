.. (c) 2014 LinkedIn Corp. All rights reserved.
 
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at  http://www.apache.org/licenses/LICENSE-2.0
	
	Unless required by applicable law or agreed to in writing, software distributed
	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
	CONDITIONS OF ANY KIND, either express or implied.

Installing Cubert
==================

Download or clone the Cubert repository (say, into /path/to/cubert).

.. code-block:: bash

	> cd /path/to/cubert
	> ./gradlew
	> export CUBERT_HOME=/path/to/cubert/release

The *gradlew* command create a new folder called *release* which is what we will need to run cubert. This folder can be copied to hadoop cluster gateway.

To run cubert, first make sure that Hadoop is installed and the HADOOP_HOME environment variable points to the hadoop installation. Set the CUBERT_HOME environment to the release folder (note: CUBERT_HOME points to the release folder and not the "root" repository folder).

To verify that everything is in place, lets run the cubert command

.. code-block:: bash
	
	> $CUBERT_HOME/bin/cubert -h
	    Using HADOOP_CLASSPATH=:/path/to/cubert/release/lib/*

	    usage: ScriptExecutor <cubert script file> [options]
	     -c,--compile             stop after compilation
	     -D <property=value>      use value for given property
	     -d,--debug               print debuging information
	     ...
	

.. note:: Hadoop Versions
	
	Cubert had been tested on both Hadoop versions 1.x and 2.x. You can set your version of hadoop in the *gradle.properties* file.

.. note:: Running Cubert in Local Mode

	Cubert can run in local mode as well. Although, we have to make sure that we have downloaded Hadoop distribution on the local computer and assigned the HADOOP_HOME environment variable.
	
	
Upgrading Cubert
------------------
Follow this steps to upgrade to the newest version of Cubert:

.. code-block:: bash

	> cd /path/to/cubert
	> git pull
	> ./gradlew clean dist
	
